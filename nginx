upstream backend {
    server 127.0.0.1:8000;
}

server {
    listen 80;
    server_name writewell.tech www.writewell.tech;

    root /var/www/html;
    index index.html;

    location /x/0 { 
      proxy_pass http://backend/sign-in; 
    }
    location /x/1 { 
      proxy_pass http://backend/sign-up; 
    }
    location /x/2 { 
      proxy_pass http://backend/user; 
      proxy_set_header X-Sherwood-Authorization $http_x_sherwood_authorization;
    }
    
    location /x/f { 
      proxy_pass http://backend/fund; 
      proxy_set_header X-Sherwood-Authorization $http_x_sherwood_authorization;
    }
    location /x/w { 
      proxy_pass http://backend/withdraw; 
      proxy_set_header X-Sherwood-Authorization $http_x_sherwood_authorization;
    }
    location /x/b { 
      proxy_pass http://backend/buy; 
      proxy_set_header X-Sherwood-Authorization $http_x_sherwood_authorization;    
    }
    location /x/s { 
      proxy_pass http://backend/sell;
      proxy_set_header X-Sherwood-Authorization $http_x_sherwood_authorization;
    }
    location /x/i { 
      proxy_pass http://backend/invest; 
      proxy_set_header X-Sherwood-Authorization $http_x_sherwood_authorization;
    }
    location /x/d { 
      proxy_pass http://backend/divest; 
      proxy_set_header X-Sherwood-Authorization $http_x_sherwood_authorization;
    }

    location / {
        try_files $uri $uri/ =404;
    }
}